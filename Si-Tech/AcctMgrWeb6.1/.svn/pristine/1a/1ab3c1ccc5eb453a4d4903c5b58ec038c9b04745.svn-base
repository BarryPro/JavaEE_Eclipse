package com.sitech.acctmgr.atom.impl.detail;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.sitech.acctmgr.atom.domains.detail.DetailQryRecord;
import com.sitech.acctmgr.atom.dto.detail.S8426QryRecordQryInDTO;
import com.sitech.acctmgr.atom.dto.detail.S8426QryRecordQryOutDTO;
import com.sitech.acctmgr.atom.entity.inter.IRecord;
import com.sitech.acctmgr.common.AcctMgrBaseService;
import com.sitech.acctmgr.inter.detail.I8426;
import com.sitech.jcfx.anno.ParamType;
import com.sitech.jcfx.anno.ParamTypes;
import com.sitech.jcfx.dt.in.InDTO;
import com.sitech.jcfx.dt.out.OutDTO;

@ParamTypes({
    @ParamType(c = S8426QryRecordQryInDTO.class, m = "qryRecordQry", oc = S8426QryRecordQryOutDTO.class)
})
public class S8426 extends AcctMgrBaseService implements I8426 {
	
	private IRecord record;
	/*zgb1 安保部详单查询记录查询*/
	@Override
	public OutDTO qryRecordQry(InDTO inParam) {
		S8426QryRecordQryInDTO inDto = (S8426QryRecordQryInDTO) inParam;
		Map<String, Object> inMap = new HashMap<String, Object>();
		log.debug("=========="+inDto.getLoginNo());
		log.debug("=========="+inDto.getBeginTime());
		log.debug("=========="+inDto.getEndTime());
		if(inDto.getLoginNo()!=null &&!"".equals(inDto.getLoginNo())){
			inMap.put("LOGIN_NO", inDto.getLoginNo());
		}
		if(inDto.getBeginTime()!=null){
			inMap.put("BEGIN_TIME", inDto.getBeginTime());
		}
		if(inDto.getEndTime()!=null){
			inMap.put("END_TIME", inDto.getEndTime());
		}
		S8426QryRecordQryOutDTO outDto = new S8426QryRecordQryOutDTO();
		List<DetailQryRecord> qryRecords = record.getDetailRecordList(inMap);
		log.debug("==========="+qryRecords.size());
		outDto.setQryRecords(qryRecords);
		outDto.setListSize(qryRecords.size());
		return outDto;
	}
	
	
	public IRecord getRecord() {
		return record;
	}
	public void setRecord(IRecord record) {
		this.record = record;
	}
	

}
