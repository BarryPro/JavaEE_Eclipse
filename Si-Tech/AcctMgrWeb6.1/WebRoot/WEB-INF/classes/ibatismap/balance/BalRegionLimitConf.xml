<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
    
<sqlMap namespace="bal_paybacklimit_conf">
	<typeAlias alias="regionLimitEnt" type="com.sitech.acctmgr.atom.domains.pay.RegionLimitEntity"/>
	<select id="qRegionLimitConf"  parameterClass="Map" resultClass = "regionLimitEnt">
    select REGION_GROUP regionGroup,LIMIT_TYPE limitType,LIMIT_CYCLE limitCycle,LIMIT_DAY_FEE limitDayFee,BACKED_DAY_FEE backedDayFee,LIMIT_MONTH_FEE limitMonthFee,BACKED_MONTH_FEE backedMonthFee,MSG_MONTH_FLAG msgMonthFlag,MSG_DAY_FLAG msgDayFlag,MSG_PHONE msgPhone 
    from BAL_PAYBACKLIMIT_CONF 
	where REGION_GROUP=#REGION_GROUP# and LIMIT_TYPE=#LIMIT_TYPE#
  	</select>
  	
  	<update id="upRMonthFee" parameterClass="Map">
  	update BAL_PAYBACKLIMIT_CONF SET BACKED_MONTH_FEE = #BACKED_MONTH_FEE#
  	where REGION_GROUP = #REGION_GROUP# and LIMIT_TYPE=#LIMIT_TYPE#
  	</update>
  	
  	<update id="upRDayFee" parameterClass="Map">
  	update BAL_PAYBACKLIMIT_CONF SET BACKED_DAY_FEE = #BACKED_DAY_FEE# 
    where REGION_GROUP = #REGION_GROUP# and LIMIT_TYPE=#LIMIT_TYPE#
  	</update>
  	
  	<update id="upRMonthF" parameterClass="Map">
  	update bal_paybacklimit_conf SET msg_month_flag = '1' 
  	where region_group = #REGION_GROUP# and limit_type=#LIMIT_TYPE#
    </update>
    
    <update id="upRDayF" parameterClass="Map">
  	update bal_paybacklimit_conf SET msg_day_flag = '1' where region_group = #REGION_GROUP# and limit_type=#LIMIT_TYPE#
    </update>
    
    <update id="upRegionLimit" parameterClass="Map">
  	UPDATE BAL_PAYBACKLIMIT_CONF SET LIMIT_MONTH_FEE = #REGION_MONTH_LIMIT#,LIMIT_DAY_FEE = #REGION_DAY_LIMIT#,MSG_PHONE = #MSG_PHONE#
     WHERE REGION_GROUP = #REGION_GROUP# AND LIMIT_TYPE = #LIMIT_TYPE#
    </update>
</sqlMap>