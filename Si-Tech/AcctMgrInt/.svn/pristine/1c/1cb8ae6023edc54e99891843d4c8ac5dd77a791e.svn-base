<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap      
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"      
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="pub_codedef_dict">
	<select id="qVision"  parameterClass="Map" resultClass="java.util.HashMap">
		SELECT
		CODE_ID codeId,
		CODE_VALUE codeValue,
		CODE_NAME codeName,
		CODE_DESC codeDesc,
		STATUS status,
		GROUP_ID groupId,
		LOGIN_NO loginNo,
		CODE_ID||'-->'||CODE_VALUE codeComp,
		TO_CHAR(BEGIN_TIME,'YYYYMM') beginMonth
		FROM PUB_CODEDEF_DICT
		WHERE CODE_CLASS = #CODE_CLASS:LONG#
		<dynamic prepend="  ">
			<isNotEmpty prepend=" " property="CODE_ID">
				AND CODE_ID = #CODE_ID#
			</isNotEmpty>
			<isNotEmpty prepend=" " property="GROUP_ID">
				AND GROUP_ID = #GROUP_ID#
			</isNotEmpty>
			<isNotEmpty prepend=" " property="CODE_VALUE">
				AND CODE_VALUE = #CODE_VALUE#
			</isNotEmpty>
			<isNotEmpty prepend=" " property="STATUS">
				AND STATUS = #STATUS#
			</isNotEmpty>
			<isNotEmpty prepend=" " property="LOGIN_NO">
				AND TRIM(LOGIN_NO) = #LOGIN_NO#
			</isNotEmpty>
			<isNotEmpty prepend="" property="ADJSTATUS">
    			AND STATUS IN 
    			<iterate close=")" open="(" conjunction="," prepend="" property="ADJSTATUS">
    				#ADJSTATUS[]#
    			</iterate>
    		</isNotEmpty>
		</dynamic>
		ORDER BY CODE_ID
	</select>


</sqlMap>